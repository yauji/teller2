{% extends "base.html" %}

{% block contents %}

<h3>Rakuten bank record upload</h3>


<li>楽天銀行、JRE bankのCSVファイルをアップロード、登録可能。</li>

<p>フォーマット: <code>取引日(YYYYMMDD),入出金(円),取引後残高(円),入出金内容</code></p>

{% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}

<form method="POST" enctype="multipart/form-data">
  {% csrf_token %}
  <div class="form-group">
    <label>Rakuten bank CSV file</label>
    <input type="file" name="file">
  </div>

<div class="form-group">
  <label class="sr-only" for="cg">Default category group</label>
  <select  class="custom-select mb-2 mr-sm-2 mb-sm-0" name="cg" id="cg">
    {% for cg in categorygroup_list %}    
    <option value="{{cg.id}}">{{cg.name}}</opetion>
    {% endfor %}
  </select>
  
  <select name="c" id="c">
    {% for c in category_list %}    
    <option value="{{c.id}}">{{c.name}}</opetion>
    {% endfor %}
  </select>
</div>

<div class="form-group">
  <label class="sr-only" for="pmg">Payment method group</label>
  <select class="custom-select mb-2 mr-sm-2 mb-sm-0" name="pmg" id="pmg">
    {% for pmg in pmethodgroup_list %}
    <option value="{{pmg.id}}" {% if pmg.id == selected_pmg_id %}selected{% endif %}>{{pmg.name}}</opetion>
    {% endfor %}
  </select>

  <select name="pm" id="pm">
    {% for pm in pmethod_list %}
    <option value="{{pm.id}}" {% if pm.id == selected_pm_id %}selected{% endif %}>{{pm.name}}</opetion>
    {% endfor %}
  </select>
</div>

  <input type="submit" class="btn btn-primary btn-sm" value="Upload">
</form>


{{contents}}

{% endblock contents %}

{% block exscript %}
<script type="text/javascript" src="../static/js/trans_common.js"></script>

{% endblock exscript %}
